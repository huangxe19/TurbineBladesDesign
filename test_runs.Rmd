---
title: "Untitled"
author: "Xige Huang"
date: '2022-04-17'
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(dplyr)
library(plgp)
library(lhs)
library(laGP)
library(maximin)
library(ggplot2)
library(R.matlab)
library(nloptr)
```

```{r}
source('/FUN/functions.R')
```

# read data

```{r}
X_raw <- as.matrix(read.table('/Design/X_raw.txt', header=T))
XX_raw <- as.matrix(read.table('/Design/XX_raw.txt', header=T))
y <- as.matrix(read.table('/Design/Data_init_Beta.txt', header=T))[,7:8]
yy <- as.matrix(read.table('/Design/test_init.txt', header=T))[,7:8]
```


# open matlab connection
```{r}
options(matlab="/Applications/MATLAB_R2022a.app/bin/matlab")
Matlab$startServer()
matlab <- Matlab()
isOpen <- open(matlab)
print(matlab)
```


# run ALC with constraints
```{r}
res2 <- ALC(X_raw=X_raw, 
           y=y, 
           XX_raw=XX_raw, 
           yy=yy, 
           niter=45)
```

```{r}
close(matlab)
```

